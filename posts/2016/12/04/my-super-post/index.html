<!DOCTYPE html>
<html lang="en">

<head>
  <!-- ## for client-side less
  <link rel="stylesheet/less" type="text/css" href="https://harry2chen.github.io/theme/css/style.less">
  <script src="//cdnjs.cloudflare.com/ajax/libs/less.js/1.7.3/less.min.js" type="text/javascript"></script>
  -->
  <link rel="icon" type="image/vnd.microsoft.icon" href="https://harry2chen.github.io/">
  <link rel="stylesheet" type="text/css" href="https://harry2chen.github.io/theme/css/normalize.css">
  <link rel="stylesheet" type="text/css" href="https://harry2chen.github.io/theme/css/style.min.css">
  <link rel="stylesheet" type="text/css" href="https://harry2chen.github.io/theme/css/pygments.css">
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Roboto+Mono">
  <link rel="stylesheet" type="text/css" href="https://harry2chen.github.io/theme/css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="https://harry2chen.github.io/theme/css/hatena-bookmark-icon.css">
  <link rel="stylesheet" type="text/css" href="/static/custom.css">


  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Harry Chen">
  <meta name="description" content="Posts and writings by Harry Chen">

  <link href="https://harry2chen.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Duang一下 Atom" />

<meta name="keywords" content="git, 中文">

  <title>
    Duang一下
&ndash; Git 学习summary  </title>

</head>

<body>
  <main>
    <header>
      <div class="site-name">
        <a href="https://harry2chen.github.io">Duang一下</a>
      </div>
      <p>
        <a href="https://harry2chen.github.io/archives.html"><i class="fa fa-archive"></i> Archive</a>
      </p>
    </header>

<article>
  <div class="article__title">
    <h1><a href="https://harry2chen.github.io/posts/2016/12/04/my-super-post/">Git 学习summary</a></h1>
  </div>
  <div class="article__meta">
    <p class="article__meta__post-date">Posted on: 日 04 十二月 2016</p>
 Tags:
      <a href="https://harry2chen.github.io/tag/git/">#git</a>,      <a href="https://harry2chen.github.io/tag/zhong-wen/">#中文</a>    </p>
  </div>
  <div class="article__text">
    <h3>添加文件放入repo</h3>
<div class="highlight"><pre><span></span>$ git add readme.txt            // 加入到暂存区<span class="p">;</span>
$ git add -A                // stags All,both <span class="o">[</span>git add . <span class="o">&amp;&amp;</span> git add -u<span class="o">]</span>
$ git add .                 // stags new and modified, **without deleted**
$ git add -u                // stags modified and deleted, without new
$ git commit -m <span class="s2">&quot;write a readme file&quot;</span>       //提交到版本库
</pre></div>


<h3>初始化 Git repo.</h3>
<div class="highlight"><pre><span></span>$ git init
</pre></div>


<h3>查看工作状态</h3>
<div class="highlight"><pre><span></span>$ git status
</pre></div>


<h3>查看修改内容</h3>
<div class="highlight"><pre><span></span>$ git diff readme.txt
$ git diff HEAD -- readme.txt   // 比较工作区和版本库里最新版本的区别
                                // HEAD: 当前版本
                                // HEAD^ : 上一个版本 依此类推
                                // HEAD~100 : 上100个版本
</pre></div>


<h3>重载之前的历史版本（返回指定的版本）</h3>
<div class="highlight"><pre><span></span>$ git reset --hard commit_id
</pre></div>


<h3>查看提交历史</h3>
<div class="highlight"><pre><span></span>$ git log --graph --pretty<span class="o">=</span>oneline --abbrev-commit
</pre></div>


<h3>查看历史命令，以便确定要回到未来的哪个版本</h3>
<div class="highlight"><pre><span></span>$ git reflog
</pre></div>


<h3>直接丢弃工作区的修改</h3>
<div class="highlight"><pre><span></span>$ git checkout -- readme.txt    // 1. file not add to stage,撤销修改回到和版本库&lt;HEAD&gt;一样的状态
                                // 2. file add to stage,撤销修改回到添加到暂存区后的状态
</pre></div>


<h3>改乱了工作区的某个文件&amp;添加到暂存区，想丢弃修改</h3>
<div class="highlight"><pre><span></span>$ git reset HEAD readme.txt
$ git checkout -- readme.txt
</pre></div>


<h3>撤销本次提交 （commit）</h3>
<div class="highlight"><pre><span></span>参考 版本回退
</pre></div>


<h3>从版本库删除指定文件 from lastest commit</h3>
<div class="highlight"><pre><span></span>$ git rm test.txt
$ git commit -m <span class="s2">&quot;remove test.txt&quot;</span>
</pre></div>


<h3>关联一个远程库</h3>
<div class="highlight"><pre><span></span>$ git remote add origin git@github.com:harry2chen/blog.git
</pre></div>


<h3>关联后，第一次推送<push> master 分支<branch></h3>
<div class="highlight"><pre><span></span>$ git push -u origin master
</pre></div>


<h3>此后，每次提交</h3>
<div class="highlight"><pre><span></span>$ git push origin master
</pre></div>


<h3>从远程库clone到本地</h3>
<div class="highlight"><pre><span></span>$ git clone git@github.com:harry2chen/blog.git    // address, also can use https:// protocol
</pre></div>


<h3>查看分支</h3>
<div class="highlight"><pre><span></span>$ git branch
</pre></div>


<h3>创建分支</h3>
<div class="highlight"><pre><span></span>$ git branch &lt;branch_name&gt;
</pre></div>


<h3>切换分支</h3>
<div class="highlight"><pre><span></span>$ git checkout &lt;branch_name&gt;
</pre></div>


<h3>创建 ＋ 切换分支</h3>
<div class="highlight"><pre><span></span>$ git checkout -b &lt;branch_name&gt;
</pre></div>


<h3>合并某分支 到 当前分支［fast forward模式，删除分支后，丢失分支信息］</h3>
<div class="highlight"><pre><span></span>$ git merge &lt;branch_name&gt;
</pre></div>


<h3>删除分支</h3>
<div class="highlight"><pre><span></span>$ git branch -d &lt;branch_name&gt;
</pre></div>


<h3>合并分支，禁用fast forward</h3>
<div class="highlight"><pre><span></span>$ git merge --no-ff -m <span class="s2">&quot;merge with no-ff&quot;</span> dev
</pre></div>


<h3>把工作现场“储藏”起来</h3>
<div class="highlight"><pre><span></span>$ git stash
</pre></div>


<h3>把之前的工作现场（stach）恢复回来</h3>
<div class="highlight"><pre><span></span>$ git stash pop
</pre></div>


<h3>查看stash内容</h3>
<div class="highlight"><pre><span></span>$ git stash list
</pre></div>


<h3>丢弃一个没有被合并过的branch</h3>
<div class="highlight"><pre><span></span>$ git branch -D &lt;branch_name&gt;
</pre></div>


<h3>查看远程库的信息</h3>
<div class="highlight"><pre><span></span>$ git remote -v
</pre></div>


<h3>从本地推送分支</h3>
<div class="highlight"><pre><span></span>$ git push origin &lt;branch_name&gt;
</pre></div>


<h3>如果推送失败</h3>
<div class="highlight"><pre><span></span>$ git pull      // 抓取远程新的提交
// 失败： 提示“no tracking infomation”
$ git branch --set-upstream &lt;branch_name&gt; origin/&lt;branch_name&gt;
</pre></div>


<h3>在本地创建和远程对应的分支</h3>
<div class="highlight"><pre><span></span>$ git checkout -b &lt;branch_name&gt; origin/&lt;branch_name&gt;
</pre></div>


<h3>首先切换到需要打标签的分支上，再打tags</h3>
<div class="highlight"><pre><span></span>$ git branch    // 查看分支
$ git checkout master       // 切换到master
$ git tag &lt;tag_name&gt;        // 打上标签
</pre></div>


<h3>对指定的提交打tags</h3>
<div class="highlight"><pre><span></span>$ git tag &lt;tag_name&gt; &lt;commit_id&gt;
// create tag with comment
$ git tag -a &lt;tag_name&gt; -m <span class="s2">&quot;comments&quot;</span> &lt;commit_id&gt;
</pre></div>


<h3>查看所有标签</h3>
<div class="highlight"><pre><span></span>$ git tag
</pre></div>


<h3>查看标签信息</h3>
<div class="highlight"><pre><span></span>$ git show &lt;tag_name&gt;
</pre></div>


<h3>删除tag</h3>
<div class="highlight"><pre><span></span>$ git tag -d &lt;tag_name&gt;
</pre></div>


<h3>推送某个标签到远程</h3>
<div class="highlight"><pre><span></span>$ git push origin &lt;tag_name&gt;
</pre></div>


<h3>一次性推送 尚未推送到远程的 tags</h3>
<div class="highlight"><pre><span></span>$ git push origin --tags
</pre></div>


<h3>如果tag已经推送到远程，要删除该标签</h3>
<div class="highlight"><pre><span></span>$ git tag -d &lt;tag_name&gt;         // 先在本地端删除
$ git push origin :refs/tags/&lt;tag_name&gt;     // 远程端删除
</pre></div>


<h3>配置别名</h3>
<div class="highlight"><pre><span></span>$ git config --global alias.unstage <span class="s1">&#39;reset HEAD&#39;</span>  // 将 reset HEAD 映射到 unstage
$ git unstage test.py   // 实际上执行：$ git reset HEAD test.py
</pre></div>


<h3>other</h3>
<div class="highlight"><pre><span></span>* 忽略某些文件，在Git工作区的根目录下创建 .gitignore文件
* git配置文件放在.git/config 文件中
</pre></div>
  </div>
<section class="social-tools">

    <div class="social-tools__title">
      <p>Share this post</p>
    </div>

    <div class="social-tools__buttons">
      <a class="tweet-blogpost-button"
         href="https://twitter.com/share?text=Duang一下 - Git 学习summary"
         onClick="window.open(encodeURI(decodeURI(this.href)), 'tweetwindow', 'width=650, height=470'); return false;" >
        <i class="fa fa-twitter"></i>
      </a>
      <a class="facebook-share-button"
         href="https://www.facebook.com/sharer/sharer.php?u=https://harry2chen.github.io/posts/2016/12/04/my-super-post/"
         onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" >
        <i class="fa fa-facebook"></i>
      </a>
    </div>


</section>  <div id="article__comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_identifier = "posts/2016/12/04/my-super-post/";
        (function() {
             var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
             dsq.src = '//harry2chen.disqus.com/embed.js';
             (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
         })();
    </script>
  </div>

</article>


  </main>
    <footer>
      <div class="author__logo">
          <img src="/static/images/mylogo.png" alt="logo">
      </div>
      <section class="author">
        <div class="author__name">
          <a href="https://harry2chen.github.io/pages/about.html">Harry Chen</a>
          <p>I'm learning cs 108.</p>
        </div>
        <div class="author__link">
          <ul>
            <li>
              <a href="https://twitter.com/harry2chen1900" target="_blank" title="twitter">
                <i class="fa fa-twitter-square"></i>
              </a>
            </li>
            <li>
              <a href="https://www.github.com/harry2chen" target="_blank" title="github">
                <i class="fa fa-github-square"></i>
              </a>
            </li>
            <li>
              <a href="https://www.facebook.com/harry.chen.1656854 " target="_blank" title="facebook">
                <i class="fa fa-facebook-square"></i>
              </a>
            </li>
            <li>
              <a href="https://harry2chen.github.io/feeds/all.atom.xml" target="_blank" title="Feed">
                <i class="fa fa-rss"></i>
              </a>
            </li>
          </ul>
        </div>
      </section>
      <div class="ending-message">
        <p>&copy; Harry Chen. Powered by <a href="http://getpelican.com" target="_blank">Pelican</a>, Theme is using <a href="https://github.com/laughk/pelican-hss" target="_blank">HSS</a>. </p>
      </div>
    </footer>
</body>
</html>